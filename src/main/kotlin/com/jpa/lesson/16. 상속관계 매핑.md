# 상속관계 매핑 
- 관계형 데이터베이스는 상속관계 X
- 슈퍼타입 서브타입 논리 모델을 실제 물리 모델로 구현하는 법 
  - 각각 테이블로 변환 -> 조인 전략 
  - 통합 테이블로 변환 -> 단일 테이블 전략 
  - 서브타입 테이블로 변환 -> 구현 클래스마다 테이블 전략
  
### 주요 어노테이션 
- @Inheritance(strategy = InheritanceType.XXX)
  - JOINED: 조인 전략 
  - SINGLE_TABLE: 단일 테이블(JPA 기본 전략)
  - TABLE_PER_CLASS: 구현 클래스마다 테이블 전략 
- @DiscriminatorColumn(name = "DTYPE")
  - 상속 받는 객체들을 구분해주는 타입 
- @DiscriminatorValue("XXX") 
  - DTYPE의 값을 넣어줄 수 있다 
  
---
## 조인 전략 
- 장점 
  - 테이블 정규화 
  - 외래키 참조 무결성 제약 활용 가능 
  - 저장공간 효율화 
- 단점 
  - 조회시 조인을 많이 사용, 성능 저하 
  - 조회 쿼리가 복잡 
  - 데이터 저장시 insert sql 2번 호출 
  
## 단일 테이블 전략
- 장점 
  - 조인이 필요없으므로 일반적으로 조회 성능이 빠름
  - 조회 쿼리가 단순함
- 단점 
  - 자식 엔티티가 매핑한 컬럼은 모두 null 허용 
  - 단일 테이블에 모든 것을 저장하므로 테이블이 커질 수 있는 상황에 따라서 조회 성능이 오히려 느려질 수 있다.   

## 구현 클래스마다 테이블 전략 
- 쓰면 안되는 전략!(데이터베이스 전문가, ORM 전문가 둘 다 싫어함)
- 장점 
  - 서브타입을 명확하게 구분해서 처리할 때 효과적
  - not null 제약조건 사용 가능
- 단점 
  - 여러 자식 테이블을 함께 조회할 때 성능이 느림(UNION SQL)
  - 자식 테이블을 통합해서 쿼리하기 어려움   
      
     